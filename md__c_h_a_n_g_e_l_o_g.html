<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LibAscon: Changelog</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LibAscon
   &#160;<span id="projectnumber">1.0.3</span>
   </div>
   <div id="projectbrief">Lightweight Authenticated Encryption &amp; Hashing,         also with Init-Update-Final paradigm.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Changelog </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>All notable changes to this project will be documented in this file.</p>
<p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>, and this project adheres to <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md10"></a>
[1.0.3] - 2021-05-08</h1>
<p>Support for compilation on Windows with MSVC, other CMake improvements.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Added</h2>
<ul>
<li>Enable <code>ctest</code> command to run the test executables.</li>
<li>Added <code>.editorconfig</code> for a portable text editing configuration.</li>
</ul>
<h2><a class="anchor" id="autotoc_md12"></a>
Fixed</h2>
<ul>
<li>All <code>tag_len</code> parameters in the library API now are of type <code>size_t</code> instead of <code>uint8_t</code> so that <code>sizeof()</code> can be used on the tag buffers. As the tags are internally allocated on the stack, the lengths should not be excessive (e.g. anything above 64 B = 512 bit is already a lot for security purposes).</li>
<li>LibAscon now successfully compiles with CL (MSVC) on Windows:<ul>
<li>Fixed errors due to inlining of static function into exposed functions.</li>
<li>Fixed errors at link time as the linker did not find the library's public API functions: now a <code>ASCON_API</code> macro is set to export their symbols properly (does nothing on any other OS) with <code>__declspec(dllexport)</code>.</li>
<li>Use <code>_malloca()</code> and <code>_freea()</code> to declare arrays on the stack without a constant length at compile-time.</li>
<li>Fixed a variety of compiler warnings and errors for the test suite code and benchmark executable, including paddings, Spectre mitigations, inlining notifications, incorrect macro checking.</li>
</ul>
</li>
<li>Moved compiler flag settings to a separate CMake file: <code>compiler_flags.cmake</code><ul>
<li>Improved support for GCC vs. Clang differences in the compiler flags</li>
</ul>
</li>
<li>Replaced Travis CI with GitHub Actions CI:<ul>
<li>Support for MSVC compilation using CL on Windows</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
[1.0.2] - 2021-04-30</h1>
<p>CMake and build process improvements, 4 new targets, minor fix to avoid unwanted compiler optimisations.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Added</h2>
<ul>
<li>Add static build targets <code>ascon128hash</code>, <code>ascon128ahash</code>, <code>ascon80pqhash</code> which compile to static libraries with the indicated AEAD cipher and the Ascon-Hash/Xof functions. Useful to avoid setting manual compile targets when only one cipher and the hash functions are needed.</li>
<li>Add test runner which tests the shared library build target <code>testasconshared</code> to check that everything works also with dynamic linking.</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
Fixed</h2>
<ul>
<li>Prefer <code>memset_s</code> when available to clear the context, as <code>memset</code> may be optimised out by the compiler, while <code>memset_s</code> is guaranteed to always execute.</li>
<li>Improved <code>CMakeLists.txt</code>:<ul>
<li>Bump minimum CMake version to 3.9 to use the <code>INTERPROCEDURAL_OPTIMISATION</code> property (aka Link time optimisation) on just the targets that need it.</li>
<li>Remove <code>-flto</code> flag, it may cause compiling issues in some cases (breaking the Travis CI build, for one), prefer CMake's abstraction as per point above.</li>
<li>List explicit include directories for each target.</li>
<li>Add explicit dependencies to each target that has some.</li>
</ul>
</li>
<li>Improved Travis CI:<ul>
<li>Enable parallel make-all.</li>
<li>Install MSYS2 and use GCC on Windows to compile properly.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
[1.0.1] - 2020-05-30</h1>
<p>Fixed slowdowns - now as fast as reference implementation, 100% test coverage.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Fixed</h2>
<ul>
<li>Fixed 2x slowdown compared to original reference implementation by unrolling loops in <code>ascon_permutation_[a12|b8|b6]</code>. Apparently the compiler does not do that automatically, even when requested with <code>-funroll-loops</code>. This brings LibAscon to the same performance as the reference implementation, when compiled in <em>Release</em> mode.</li>
<li>When building in <em>MinSizeRel</em> mode (<code>-DCMAKE_BUILD_TYPE=MinSizeRel</code>), the core round and permutation functions are not hinted to be inlined by the compiled, thus the library takes slightly less space.</li>
<li>Replaced rewritten benchmark runner with original one (copy-pasted and slightly changed). Apparently the rewritten benchmark was about 2x slower. Now the benchmark results are comparable between original implementation and LibAscon.</li>
<li>Test coverage reached 100%: removed a dead branch in <code><a class="el" href="ascon_8h.html#a15e01f4790eef38e4304d783a10be345" title="Online symmetric decryption using Ascon80pq, finalisation and tag validation.">ascon_aead80pq_decrypt_final()</a></code>, which was a copy-paste error.</li>
<li>Fix a <code>int</code> to <code>uint8</code> type conversion warning.</li>
<li>Removed unused internal <code>log_sponge()</code> function, making the library slightly smaller.</li>
<li>Add initial Travis-CI script for a few builds. Some are still failing, but the reasons seems to be in the system configuration or old compiler versions or "linker not found", not in the LibAscon source code.</li>
</ul>
<h1><a class="anchor" id="autotoc_md18"></a>
[1.0.0] - 2020-05-21</h1>
<p>First stable version with all ciphers.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Modified</h2>
<ul>
<li><p class="startli"><b>Breaking</b> change from previous versions: removed <code>total_output_len</code> parameters from the functions</p><ul>
<li><code>ascon_aead*_encrypt()</code></li>
<li><code>ascon_aead*_decrypt()</code></li>
<li><code>ascon_aead*_encrypt_final()</code></li>
<li><code>ascon_aead*_decrypt_final()</code> and from the <code><a class="el" href="structascon__bufstate__t.html" title="Internal cipher sponge state associated with a buffer holding for less-than-rate updates.">ascon_bufstate_t</a></code> struct, making it 8 B smaller. Why? TL;DR it's redundant.</li>
</ul>
<p class="startli">The reasoning is that the user of the first two (offline processing) already knows the length of the plaintext/ciphertext; the user of the second two obtains the length of the processed chunks as return values so they can simply sum the up - and anyhow the user known the length of all the chunks provided to the cipher; those could be summed up to. In most of the cases the argument was <code>NULL</code> in the function usage. For details on how to obtain the total length, the example in the Readme should suffice.</p>
</li>
<li>Renamed all files in <code>src</code> so they start with <code>ascon_</code>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md20"></a>
Fixed</h2>
<ul>
<li>Added more tests to cover more branching cases of the online-buffering algorithm.</li>
<li>Removal of some minor warnings after inspection with static analyser (<code>scan-build</code>) and CLion code inspection tool.</li>
<li>Typos</li>
<li>Added missing <em>Known limitations</em> paragraphs to the previous releases in this Changelog.</li>
</ul>
<h2><a class="anchor" id="autotoc_md21"></a>
Known limitations</h2>
<ul>
<li>Because LibAscon is implemented with reuse of existing functions in mind, in order to spare on code size and with the Init-Update-Digest paradigm, which has some internal buffering, the cipher is about <b>4x slower</b> than the <a href="https://github.com/ascon/ascon-c">reference implementation (<code>ref</code>)</a>.</li>
<li>There is no architecture-specific optimisation, only a generic portable implementation using mostly <code>uint64_t</code> data types.</li>
</ul>
<h1><a class="anchor" id="autotoc_md22"></a>
[0.4.0] - 2020-05-20</h1>
<p>Added Ascon80pq cipher, example in Readme.</p>
<h2><a class="anchor" id="autotoc_md23"></a>
Added</h2>
<ul>
<li><code>ascon_aead128a_*</code> functions, working exactly as the <code>aead128</code> versions. Internally they absorb the data with a double rate.</li>
<li>Example encryption and decrpytion code into Readme.</li>
</ul>
<h2><a class="anchor" id="autotoc_md24"></a>
Removed</h2>
<ul>
<li>Macros to exclude some parts of the library from the previous version, as they only complicate the building process. It's easier to exclude some source files from the build, now that they are better organised.<ul>
<li><code>ASCON_COMPILE_AEAD128</code></li>
<li><code>ASCON_COMPILE_AEAD128a</code></li>
<li><code>ASCON_COMPILE_AEAD80pq</code> -<code>ASCON_COMPILE_HASH</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md25"></a>
Known limitations</h2>
<ul>
<li>Because LibAscon is implemented with reuse of existing functions in mind, in order to spare on code size and with the Init-Update-Digest paradigm, which has some internal buffering, the cipher is about <b>4x slower</b> than the <a href="https://github.com/ascon/ascon-c">reference implementation (<code>ref</code>)</a>.</li>
<li>There is no architecture-specific optimisation, only a generic portable implementation using mostly <code>uint64_t</code> data types.</li>
</ul>
<h1><a class="anchor" id="autotoc_md26"></a>
[0.3.0] - 2020-05-20</h1>
<p>Added Ascon128a cipher and macros to exclude some parts of the library.</p>
<h2><a class="anchor" id="autotoc_md27"></a>
Added</h2>
<ul>
<li><code>ascon_aead128a_*</code> functions, working exactly as the <code>aead128</code> versions. Internally they absorb the data with a double rate.</li>
<li>Added macros to exclude some parts of the library if they are not needed for a smaller build<ul>
<li><code>ASCON_COMPILE_AEAD128</code></li>
<li><code>ASCON_COMPILE_AEAD128a</code></li>
<li><code>ASCON_COMPILE_AEAD80pq</code> (which is not included in the lib yet) -<code>ASCON_COMPILE_HASH</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md28"></a>
Known limitations</h2>
<ul>
<li>Because LibAscon is implemented with reuse of existing functions in mind, in order to spare on code size and with the Init-Update-Digest paradigm, which has some internal buffering, the cipher is about <b>4x slower</b> than the <a href="https://github.com/ascon/ascon-c">reference implementation (<code>ref</code>)</a>.</li>
<li>There is no architecture-specific optimisation, only a generic portable implementation using mostly <code>uint64_t</code> data types.</li>
<li>The only AEAD algorithms implemented are Ascon128 and Ascon128a. Ascon80pq is still to be done.</li>
</ul>
<h1><a class="anchor" id="autotoc_md29"></a>
[0.2.0] - 2020-05-17</h1>
<p>Variable tags length, secure context cleanup, minor QOL improvements.</p>
<h2><a class="anchor" id="autotoc_md30"></a>
Added</h2>
<ul>
<li><code>ascon_aead128_cleanup()</code> and <code><a class="el" href="ascon_8h.html#a4954f13cbf0f61de82ea3ea6f1530578" title="Security cleanup of the hashing context, in case the online processing is not completed to the end.">ascon_hash_cleanup()</a></code> to securely cleanup the context in case the online processing is not terminated with the final function.</li>
</ul>
<h2><a class="anchor" id="autotoc_md31"></a>
Changed</h2>
<ul>
<li><p class="startli"><code><a class="el" href="ascon_8h.html#aad16ee534258583d3c658fa45dcd67a1" title="Offline symmetric encryption using Ascon128.">ascon_aead128_encrypt()</a></code>, <code><a class="el" href="ascon_8h.html#a6362d5089ca5c3dd082722f233997e92" title="Online symmetric encryption using Ascon128, finalisation and tag generation.">ascon_aead128_encrypt_final()</a></code>, <code><a class="el" href="ascon_8h.html#ab69d855d8235c20c9ef5bfc5d747409d" title="Offline symmetric decryption using Ascon128.">ascon_aead128_decrypt()</a></code>, <code><a class="el" href="ascon_8h.html#a907ad48ff1f45c0f4689707ef8e0ec60" title="Online symmetric decryption using Ascon128, finalisation and tag validation.">ascon_aead128_decrypt_final()</a></code> have a <b>new parameter</b>: <code>tag_len</code>. The user can specify the length of the tag to generate and verify respectively. The value can be any value in [0, 255] bytes. At least 16 is of course recommended.</p>
<p class="startli">Note: the tag bytes above 16 B are an extension of the original Ascon algorithm using the same sponge squeezing technique as for the XOF.</p>
</li>
<li>Replace <code>ascon_tag_validity_t</code> enum with simpler <code>bool</code> from <code>stdbool.h</code> indicating "is tag valid?": <code>true</code> for valid, <code>false</code> otherwise. It's one less datatype to handle. Macros <code>ASCON_TAG_OK</code> and <code>ASCON_TAG_INVALID</code> are still available.</li>
<li>Because of the previous point: <code>srtbool.h</code> as now a dependency.</li>
<li>Changed ISO C standard for compilation from C99 to C11, as there are no noticeable differences for this codebase.</li>
</ul>
<h2><a class="anchor" id="autotoc_md32"></a>
Fixed</h2>
<ul>
<li>Improvements in the Doxygen documentation, especially the security warnings.</li>
<li>Some warnings about type casting when compiling on GCC for Windows or ARM microcontrollers with strict warning settings (<code>-Wall</code>, <code>-Wextra</code> etc.).</li>
<li>Variety of typos and linter warnings.</li>
<li>Minor readme improvements.</li>
</ul>
<h2><a class="anchor" id="autotoc_md33"></a>
Known limitations</h2>
<ul>
<li>Same as in v0.1.0</li>
</ul>
<h1><a class="anchor" id="autotoc_md34"></a>
[0.1.0] - 2020-02-11</h1>
<p>Initial version.</p>
<h2><a class="anchor" id="autotoc_md35"></a>
Added</h2>
<ul>
<li>AEAD encryption and decryption with Ascon128, both offline and online</li>
<li>Hashing with Ascon-Hash and Ascon-XOF, both offline and online</li>
<li>Test suite checking against test vectors</li>
<li>Wrapping everything with single extensively documented header file</li>
</ul>
<h2><a class="anchor" id="autotoc_md36"></a>
Known limitations</h2>
<ul>
<li>At the moment the library is <b>optimised for size</b>, making the cipher about 4x slower than the <a href="https://github.com/ascon/ascon-c">reference implementation</a>. On the other hand the size of the whole library is about 2x smaller than the AEAD-Ascon128 implementation alone, while the library includes online processing, Ascon-Hash and Ascon-XOF.</li>
<li>There is no architecture-specific optimisation yet, only a generic portable C implementation using mostly <code>uint64_t</code> data types.</li>
<li>The only AEAD algorithm implemented is the Ascon128 AEAD. The Ascon128a and Ascon80pq are still to be done. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
